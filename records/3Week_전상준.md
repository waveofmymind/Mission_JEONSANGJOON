## [3Week] 전상준

### 미션 요구사항 분석 & 체크리스트

---

## 3주차 미션 요약

-[X] NCP 배포

-[X] 취소, 호감 변경 3시간 제한

-[ ] 알림 기능


## 미션 수행 과정

### 1. NCP 배포

CentOS 7.8을 사용해서 배포를 했으며, 도커를 사용해서 
그램그램 프로젝트를 도커라이징해서 컨테이너로 실행시켰다.

아직 CI/CD를 사용하지 않아서 배포를 할 때마다, 일일이 도커 허브에 변경 사항을 빌드해서 반영해야 된다는 까다로움이 있어서
기존에 사용하던 젠킨스 배포 서버로 도커 허브에 자동으로 반영 사항이 업데이트되도록 구현하려고 했지만,
젠킨스 배포 서버는 ubuntu 20.04 버전이고 NCP의 그램그램 서버는 CentOS 7.8 버전인데 그 차이인건지 Publish Over SSH에서 
서버끼리 연결이 되지 않았다.

그래서 처음에 NCP 그램그램 서버를 NCP에서 지원하는 ubuntu 18.04버전을 사용했으나, 20.04와 18.04에서 SSH 보안 관련 변경 사항이 있어서 좀 다르게 적용해야 하는 것 같다.

그리고, 가비아에서 사용하던 도메인을 적용해서 아래 링크로 접속시 그램그램 서비스를 이용할 수 있다.

https://waveofmymind.site/

### 추후 개선 사항

- 소셜 로그인 리다이렉트 경로 추가
- 젠킨스 배포 서버와 NCP 그램그램 서버 연결

## 취소, 호감 변경 3시간 제한

- LikeablePerson 클래스에 modifyUnlockDate를 활용했고,
- 메서드로 isModifyUnlocked()를 현재 시간보다 이전임을 체크하도록 구현했고,
- 버튼을 비활성화 하는데 th:disabled를 사용했습니다.

- 남은 시간을 계산하는데에는 Duration 클래스의 between() 메서드를 사용했습니다.
- 현재 시간과 제한 시간을 비교해서 초단위로 올림을 했습니다.


